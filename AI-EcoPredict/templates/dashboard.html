{% extends 'base.html' %}
{% block content %}
<div class="text-center">
    <h2 class="text-2xl text-cyan-400 font-semibold mb-4">Weather Prediction Dashboard</h2>
    <p class="text-gray-400 mb-6">Select a location and update the model to generate new predictions.</p>
    <form id="predictForm" class="flex justify-center space-x-4 mb-8">
        <input id="lat" type="number" step="any" placeholder="Latitude" class="px-3 py-1 rounded bg-gray-800 text-white">
        <input id="lon" type="number" step="any" placeholder="Longitude" class="px-3 py-1 rounded bg-gray-800 text-white">
        <button type="submit" class="bg-cyan-500 hover:bg-cyan-600 px-4 py-1 rounded text-sm">Predict</button>
    </form>
    <div id="results" class="mt-6 text-gray-300"></div>
</div>
<script>
document.getElementById('predictForm').addEventListener('submit', async e => {
    e.preventDefault();
    const lat = parseFloat(document.getElementById('lat').value);
    const lon = parseFloat(document.getElementById('lon').value);
    const res = await fetch(`/api/predict?lat=${lat}&lon=${lon}`);
    const data = await res.json();
    document.getElementById('results').innerText = JSON.stringify(data, null, 2);
});
</script>
{% endblock %}
